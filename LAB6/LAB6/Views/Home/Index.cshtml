@{
    ViewData["Title"] = "Home Page";
}

@using LAB6.Controllers
@model LAB6.Models.Admin.OffersListModel


<h1> Offers </h1>
@foreach (var offer in Model.Offers)
{
    <hr>
    <table class="table table-hover table-dark">
        <tbody>
        <tr>
            <th scope="row">Cost For Day</th>
            <td>@offer.CostForDay.ToString()</td>
        </tr>
        <tr>
            <th scope="row">Days</th>
            <td>@offer.Days.ToString()</td>
        </tr>
        <tr>
            <th scope="row">Country</th>
            <td>@offer.Country</td>
        </tr>
        <tr>
            <th scope="row">Address</th>
            <td>@offer.Address</td>
        </tr>
        <tr>
            <th scope="row">App Type</th>
            <td>@offer.AppTypeName</td>
        </tr>
        <tr>
            <th scope="row">App Class</th>
            <td>@offer.AppClassName</td>
        </tr>
        <tr>
            <th scope="row">Count Rooms</th>
            <td>@offer.CountRooms.ToString()</td>
        </tr>
        <tr>
            <th scope="row">Count Floors</th>
            <td>@offer.CountFloors.ToString()</td>
        </tr>
        <tr>
            <th scope="row">Count Sleeping Places</th>
            <td>@offer.CountSleepingPlaces.ToString()</td>
        </tr>

        </tbody>
    </table>

    @if (User.Identity.IsAuthenticated)
    {
        @if (new AccountController().CheckRole(User.Identity.Name) == "admin")
        {
            <form method="POST" action="@Url.Action("DeleteOffer", "Admin")">
                <input type="hidden" value="@offer.id" name="id" class="btn-primary btn-sm"/>
                <button type="submit">Delete</button>
            </form>

            <form method="GET" action="@Url.Action("EditOffer", "Admin")" style="margin-top: 10px">
                <input type="hidden" value="@offer.id" name="id" class="btn-primary btn-sm"/>
                <button type="submit">Edit</button>
            </form>
        }
        else if (new AccountController().CheckRole(User.Identity.Name) == "client")
        {
            <form method="GET" action="@Url.Action("Order", "Client")" style="margin-top: 10px">
                <input type="hidden" value="@offer.id" name="id" class="btn-primary btn-sm"/>
                <button type="submit">Order</button>
            </form>
        }
    }

    <hr>
}